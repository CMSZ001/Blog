---

import { profileConfig } from "../config";
import { url } from "../utils/url-utils";

const currentYear = new Date().getFullYear();
---

<!--<div class="border-t border-[var(&#45;&#45;primary)] mx-16 border-dashed py-8 max-w-[var(&#45;&#45;page-width)] flex flex-col items-center justify-center px-6">-->
<div class="transition border-t border-black/10 dark:border-white/15 my-10 border-dashed mx-32"></div>
<!--<div class="transition bg-[oklch(92%_0.01_var(&#45;&#45;hue))] dark:bg-black rounded-2xl py-8 mt-4 mb-8 flex flex-col items-center justify-center px-6">-->
<div class="transition border-dashed border-[oklch(85%_0.01_var(--hue))] dark:border-white/15 rounded-2xl mb-12 flex flex-col items-center justify-center px-6">
    <div class="transition text-50 text-sm text-center">
        &copy; <span id="copyright-year">{currentYear}</span> {profileConfig.name}. All Rights Reserved. /
        <a class="transition link text-[var(--primary)] font-medium" target="_blank" href={url('rss.xml')}>RSS</a> /
        <a class="transition link text-[var(--primary)] font-medium" target="_blank" href={url('sitemap-index.xml')}>Sitemap</a><br>
        Powered by
        <a class="transition link text-[var(--primary)] font-medium" target="_blank" href="https://astro.build">Astro</a> &
        <a class="transition link text-[var(--primary)] font-medium" target="_blank" href="https://github.com/saicaca/fuwari">Fuwari</a>
        <span> | 已稳定运行 </span>
        <span id="days-running" class="transition text-[var(--primary)] font-medium"></span>
        <span> 天</span>
        <br>
        本网站由 <a class="transition link text-[var(--primary)] font-medium" target="_blank" href="https://www.netlify.com/"><img src="/favicon/Netlify_logo.svg" alt="Netlify" class="inline-block" height="64" width="64"></a> 部署并提供全球 CDN 边缘网络加速
        <br>
        <a class="transition link text-[var(--primary)] font-medium" href="https://icp.gov.moe/?keyword=20257474" target="_blank">萌ICP备20257474号</a>
    </div>
</div>

<script is:inline>
  const launchDate = new Date("2025-01-01"); // 改成你网站的上线日期
  const today = new Date();
  const daysRunning = Math.floor((today - launchDate) / (1000 * 60 * 60 * 24));
  const el = document.getElementById("days-running");

  let current = 0;
  const duration = 1200; // 动画时长(ms)
  const stepTime = Math.max(Math.floor(duration / daysRunning), 20);
  const timer = setInterval(() => {
    current++;
    el.textContent = current;
    if (current >= daysRunning) {
      clearInterval(timer);
    }
  }, stepTime);
</script>
